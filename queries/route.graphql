#import "./_price_range.graphql"

query Route($url: String!) {
  storeConfig {
    id
    product_url_suffix
    category_url_suffix
  }

  route(url: $url) {
    type
    ... on CategoryTree {
      id: uid
      url_path
      name
      breadcrumbs {
        id: category_id
        category_url_path
        category_name
      }
      children {
        uid
        url_path
        name
      }
    }
    ... on CmsPage {
      content
      content_heading
      meta_title
      meta_keywords
      meta_description
      page_layout
      identifier
      title
      url_key
    }
    ... on SimpleProduct {
      uid
      sku
      url_key
      url_suffix
      name
      description {
        html
      }
      media_gallery {
        id: url
        label
        url
        type: __typename
      }
      price_range {
        ...price_range
      }
    }
    ... on ConfigurableProduct {
      uid
      sku
      url_key
      url_suffix
      name
      description {
        html
      }
      media_gallery {
        id: url
        label
        url
        type: __typename
      }
      price_range {
        ...price_range
      }
    }
  }
}
