#import "./_productBundle.graphql"
#import "./_productConfigurable.graphql"
#import "./_productDownloadable.graphql"
#import "./_productGrouped.graphql"
#import "./_productSimple.graphql"
#import "./_productVirtual.graphql"

query Products(
  $search: String
  $filters: ProductAttributeFilterInput
  $pageSize: Int = 9
  $page: Int = 1
) {
  products(
    search: $search
    filter: $filters
    pageSize: $pageSize
    currentPage: $page
  ) {
    aggregations {
      attribute_code
      count
      label
      options {
        count
        label
        value
      }
      position
    }
    page_info {
      current_page
      total_pages
    }
    items {
      ...productBundle
      ...productConfigurable
      ...productDownloadable
      ...productGrouped
      ...productSimple
      ...productVirtual
    }
  }
}
